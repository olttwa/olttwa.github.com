
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Proctor: An Automation Orchestrator - Akshat's Blog</title>
  <meta name="author" content="Akshat">

  
  <meta name="description" content="Amazon had an insane requirement. Every product added to cart should never be missed. Lo and Behold! DynamoDB was born. Insane requirements drive the &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://olttwa.com/blog/2018/07/25/proctor-an-automation-orchestrator/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="Akshat's Blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="/javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-92993154-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">Akshat's Blog</a></h1>
  
    <h2>I share my perception of Life, the Universe and Everything here.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="sitesearch" value="olttwa.com">
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Proctor: An Automation Orchestrator</h1>
    
    
      <p class="meta">
        




<time class='entry-date' datetime='2018-07-25T21:54:56+05:30'><span class='date'><span class='date-month'>Jul</span> <span class='date-day'>25</span><span class='date-suffix'>th</span>, <span class='date-year'>2018</span></span> <span class='time'>9:54 pm</span></time>
        
           | <a href="#disqus_thread"
             data-disqus-identifier="http://olttwa.com">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>Amazon had an insane requirement. Every product added to cart should never be missed. Lo and Behold! DynamoDB was born.</p>

<p><code>Insane requirements drive the best innovation</code></p>

<p>Proctor, a developer friendly automation orchestrator, was born out of similar requirements:</p>

<ul>
<li>Centralize automation across org</li>
<li>Democratize contribution to automation</li>
<li>Democratize utilization of automation</li>
</ul>


<!-- more -->


<hr />

<h3>Conception</h3>

<p>Thus, Proctor was born. Using Proctor, let&rsquo;s point proctor.gojek.com domain to <em>2.0.1.8</em> IP address. Using <em>proctor binary</em>, we can run <em>Procs -aka automation</em> to create domain name records. Behind the scenes, <code>dns-creation</code> <em>Proc</em> creates a domain name record in <a href="aws.amazon.com/route53">AWS route53</a>.</p>

<p><img src="/images/running-procs.gif" alt="running-procs" /></p>

<p><code>NOTE: To create a domain name record, we needed neither access to AWS nor knowledge of route53</code></p>

<hr />

<h3>Getting here</h3>

<p>Go-Jek is a high growth startup <sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>. As Matt Klein correctly observes in <a href="https://medium.com/@mattklein123/the-human-scalability-of-devops-e36c37d3db6a">this blog</a>, Go-Jek too formed a small team in the early days to cope with maddening infrastructure requirements. The result, though good in the short-term, proved catastrophic in the long-term. We ended up with:</p>

<ul>
<li>A plethora of scripts spread across org</li>
<li>A nightmare of managing dependencies of scripts</li>
<li>Managing access for scripts' tools</li>
</ul>


<p><img src="/images/plethora-scripts.png" alt="plethora-scripts" />
<img src="/images/scripts-dependencies.png" alt="scripts-dependencies" /></p>

<hr />

<h3>Running into problems</h3>

<h4>Accidents</h4>

<p>Using a kitchen knife you can cut vegetables and cook delicious food. Lose focus, and you end up hurting yourselves (sometimes others too). This goes without saying that widespread access to powerful tools like knife, AWS, gcloud has resulted in VMs being deleted and databases being dropped accidentally.</p>

<h4>Maintenance</h4>

<p>Having automation spread across org resulted in:</p>

<ul>
<li>Multiple ways of performing similar tasks - <em>duplication of effort</em></li>
<li>Dependency installation for using scripts painful - <em>onboarding issues</em></li>
<li>Propagating changes in scripts across org almost impossible</li>
</ul>


<hr />

<h3>Solving problems</h3>

<h4>Centralize automation across org</h4>

<ul>
<li>All <em>Procs</em> reside in a central automation reservoir</li>
<li><em>Procs</em> are under version control</li>
<li><em>proctord, a web service,</em> facilitates running of <em>Procs</em></li>
</ul>


<h4>Democratize contribution to automation</h4>

<ul>
<li><em>Procs</em> are packaged inside docker images<sup id="fnref:2"><a href="#fn:2" rel="footnote">2</a></sup></li>
<li>Dockerized <em>Procs</em> means <strong>no restraints</strong> for delopers contributing to automation. AWS, gcloud, chef, ansible choose whichever tools you like! ruby, python, bash, perl choose whichever language you like!</li>
<li><em>proctord</em> provisions access to tools needed by <em>Procs</em> during runtime</li>
</ul>


<p><code>For building automation, your imagination is the limit!</code></p>

<h4>Democratize utilization of automation</h4>

<ul>
<li>Using <em>proctor binary</em>, developers execute <em>Procs</em> from their CLI</li>
<li><em>proctord</em> spins up <em>Procs</em> as jobs in a kubernetes cluster<sup id="fnref:3"><a href="#fn:3" rel="footnote">3</a></sup></li>
<li><em>proctord</em> streams logs of <em>Procs</em> to user&rsquo;s CLI for feedback</li>
</ul>


<hr />

<h3>Impact</h3>

<p>We&rsquo;ve launched beta of Proctor at Go-Jek<sup id="fnref:4"><a href="#fn:4" rel="footnote">4</a></sup>. Usage of automation across org has reduced ad-hoc tasks for the systems team by 70% over the past 3 months.</p>

<p>We now build the utilities of powerful tools as automation and distribute it using Proctor, enabling <em>controlled access</em>.<sup id="fnref:5"><a href="#fn:5" rel="footnote">5</a></sup></p>

<hr />

<h3>Conclusion</h3>

<p>It took 3 components - <em>Procs, proctord and a binary</em> to solve automation at Go-Jek. To the end-user, using automation only requires a binary and an internet connection üòç</p>

<hr />

<h2>Open sourcing Proctor</h2>

<p>We&rsquo;ve open sourced Proctor. You can find the source code <a href="https://github.com/gojektech/proctor">here</a></p>

<p>In an upcoming blog, we&rsquo;ll take a deep dive into the architecture of Proctor. We&rsquo;ll answer questions such as why using rundeck didn&rsquo;t work for us, how we scale Proctor, how we manage secrets and access to tools required by <em>Procs</em>, etc.</p>

<hr />

<p>I hope this blog was helpful üòÄ. Please leave your thoughts in the comments section below. You can reach out to me on email: akshat.iitj‚öΩgmail.com</p>
<div class="footnotes">
<hr/>
<ol>
<li id="fn:1">
<p>https://www.techinasia.com/gojek-insider-account-of-scaling-900x-doubling and https://blog.gojekengineering.com/200-engineers-261-million-people-go-jeks-impact-in-indonesia-b8f87934e6c1<a href="#fnref:1" rev="footnote">&#8617;</a></p></li>
<li id="fn:2">
<p>Immutable infrastructure provides Proctor an edge over competing open source automation solutions<a href="#fnref:2" rev="footnote">&#8617;</a></p></li>
<li id="fn:3">
<p>A k8s cluster helps us scale the automation orchestrator infinitely<a href="#fnref:3" rev="footnote">&#8617;</a></p></li>
<li id="fn:4">
<p>Authentication is a blocker for v1.0.0 release<a href="#fnref:4" rev="footnote">&#8617;</a></p></li>
<li id="fn:5">
<p>Adoption of product is inversely propotional to risk. Reference: <a href="https://ieeexplore.ieee.org/document/7476689/">https://ieeexplore.ieee.org/document/7476689/</a><a href="#fnref:5" rev="footnote">&#8617;</a></p></li>
</ol>
</div>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Akshat</span></span>

      




<time class='entry-date' datetime='2018-07-25T21:54:56+05:30'><span class='date'><span class='date-month'>Jul</span> <span class='date-day'>25</span><span class='date-suffix'>th</span>, <span class='date-year'>2018</span></span> <span class='time'>9:54 pm</span></time>
      


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://olttwa.com/blog/2018/07/25/proctor-an-automation-orchestrator/" data-via="akshatiitj" data-counturl="http://olttwa.com/blog/2018/07/25/proctor-an-automation-orchestrator/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2018/04/28/to-log-or-not-to-log/" title="Previous Post: To Log Or Not To Log">&laquo; To Log Or Not To Log</a>
      
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2018/07/25/proctor-an-automation-orchestrator/">Proctor: An Automation Orchestrator</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/04/28/to-log-or-not-to-log/">To Log or Not to Log</a>
      </li>
    
      <li class="post">
        <a href="/blog/2018/04/05/sharing-credentials-with-friends/">Sharing Credentials With Friends</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/10/02/load-balancing-in-grpc-for-frontend-backend-communication-part-1/">Load Balancing in gRPC for Frontend Backend Communication Part:1</a>
      </li>
    
      <li class="post">
        <a href="/blog/2017/08/21/article-summary-time-clocks-and-the-ordering-of-events-in-a-distributed-system/">[Article Summary] Time Clocks and the Ordering of Events in a Distributed System</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating...</li>
  </ul>
  
  <a href="https://github.com/olttwa">@olttwa</a> on GitHub
  
  <script type="text/javascript">
    $(document).ready(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'olttwa',
            count: 3,
            skip_forks: true,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>





  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2018 - Akshat -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'http-olttwa-com';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://olttwa.com/blog/2018/07/25/proctor-an-automation-orchestrator/';
        var disqus_url = 'http://olttwa.com/blog/2018/07/25/proctor-an-automation-orchestrator/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
